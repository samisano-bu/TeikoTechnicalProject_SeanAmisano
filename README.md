# Teiko Technical Project: Cell Count Analysis

This project performs a statistical analysis of cell count data to identify significant differences in cell populations between patient cohorts. It includes data loading, database creation, statistical testing, and data visualization.

## Project Structure

```
.
├── analysis.py                  # Main analysis script, generates plots and stats
├── load_data.py                 # Script to load CSV data into a SQLite database
├── cell-count.csv               # Raw input data
├── requirements.txt             # Python dependencies
└── responder_analysis_boxplot.png # Example output plot generated by analysis.py
```

---

## Prerequisites

Before you begin, ensure you have Python 3.8+ installed on your system.

## Setup and Installation

1.  **Clone the repository:**
    ```bash
    git clone https://github.com/samisano-bu/TeikoTechnicalProject_SeanAmisano.git
    cd TeikoTechnicalProject_SeanAmisano
    ```

2.  **Install dependencies:**
    It is highly recommended to use a virtual environment to manage dependencies.

    ```bash
    # Create and activate a virtual environment (optional but recommended)
    python -m venv venv
    source venv/bin/activate  # On Windows, use `venv\Scripts\activate`

    # Install the required packages
    pip install -r requirements.txt
    ```

---

## How to Run the Analysis

The project runs in two simple, sequential steps. You must run them in this order.

1.  **Create the Database:**
    First, run the `load_data.py` script. This will read the `cell-count.csv` file and create a clean SQLite database named `cell_counts.db`.

    ```bash
    python load_data.py
    ```
    *Expected Output:*
    ```
    Successfully loaded data from cell-count.csv
    Database cell_counts.db created.
    Table 'cell_counts' created and populated.
    Database creation process complete.
    ```

2.  **Run the Analysis:**
    Next, run the `analysis.py` script. This script connects to the database created in the previous step, performs two distinct analyses, and saves a boxplot visualization (`responder_analysis_boxplot.png`).

    ```bash
    python analysis.py
    ```
    *Expected Output:*
    The script will print the results of the "Data Subset Analysis (Part 4)" and the "Statistical Analysis (Part 3)", including p-values for each cell population.

---

## Key Analysis Components

This project performs two main analyses:

1. **Part 3: Statistical Analysis (Responder vs Non-Responder)**
   - Compares cell population frequencies between treatment responders and non-responders
   - Uses independent samples t-tests to determine statistical significance
   - Generates boxplot visualization showing distribution differences

2. **Part 4: Baseline Melanoma Cohort Analysis**
   - Descriptive statistics for baseline melanoma patients
   - Summarizes sample counts by project, response status, and sex
  
   
## Bonus: Calculate Average B Cells

To calculate the average number of B cells for melanoma male responders at baseline:

```bash
python part4_query.py
```

This script queries the database for the specific subset and returns the average B cell count.

